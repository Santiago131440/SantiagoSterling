<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Proyectos realizados</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ---------- Variables y base ---------- */
    :root{
      --glass-bg: rgba(255,255,255,0.06);
      --glass-border: rgba(255,255,255,0.08);
      --accent1: #7c3aed;
      --accent2: #06b6d4;
      --shadow-strong: 0 20px 50px rgba(2,6,23,0.6);
    }
    html,body{height:100%}
    body{
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#020617 0%, #071024 60%);
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding: 32px;
    }

    /* ---------- Container / mockup ---------- */
    .showcase-wrap{max-width:1200px;margin:0 auto;}
    .controls-panel{
      display:flex;gap:12px;flex-wrap:wrap;align-items:center;backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border); padding:12px;border-radius:12px;box-shadow:var(--shadow-strong);
    }

    /* mockup frame */
    .device-frame{
      margin-top:18px;
      border-radius:22px;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid var(--glass-border);
      position:relative;
      transition: all 400ms cubic-bezier(.22,.9,.3,1);
      box-shadow: var(--shadow-strong);
      display:flex;
      flex-direction:column;
      align-items:stretch;
    }

    /* header of mockup */
    .frame-header{
      display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:rgba(2,6,23,0.6);border-bottom:1px solid rgba(255,255,255,0.03);
    }
    .frame-dots{display:flex;gap:8px;align-items:center}
    .frame-dot{width:11px;height:11px;border-radius:99px}
    .dot-red{background:#ef4444}.dot-yellow{background:#f59e0b}.dot-green{background:#16a34a}

    /* iframe wrapper to apply transform (zoom/rotate) */
    .preview-viewport{overflow:hidden;display:flex;align-items:center;justify-content:center;background: #050816;transition:height 300ms ease}
    .preview-frame{
      border-radius:12px;overflow:hidden;transform-origin:center center;transition:transform 300ms ease;box-shadow:0 8px 30px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
      background: #fff;
    }

    iframe{display:block;border:0;width:100%;height:100%}

    /* Desktop size / Mobile size switches (mobile-first) */
    .device-mobile .preview-frame{width:360px;height:740px;}
    .device-desktop .preview-frame{width:1000px;height:640px;}
    /* responsive adjustments */
    @media (max-width:900px){
      .device-desktop .preview-frame{width:820px;height:520px}
    }
    @media (max-width:640px){
      .device-desktop .preview-frame{width:560px;height:420px}
      .device-mobile .preview-frame{width:320px;height:680px}
    }

    /* fullscreen animated state */
    .is-fullscreen{
      position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%) scale(1)!important;
      width:95%!important;height:92%!important;z-index:2000;border-radius:18px!important;padding:18px;
      transition:all 380ms cubic-bezier(.22,.9,.3,1) !important;
    }

    /* gallery styles */
    .thumb{width:72px;height:48px;border-radius:8px;overflow:hidden;border:2px solid transparent;cursor:pointer}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .thumb.active{border-color:rgba(124,58,237,0.9);box-shadow:0 8px 24px rgba(124,58,237,0.12)}

    /* extra polish */
    .glass-btn{
      background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.04);
      padding:8px 12px;border-radius:10px;color:#e6eef8;font-weight:600;
    }
  </style>
</head>
<body>

  <div class="showcase-wrap">

    <header class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-2xl font-extrabold">Proyectos destacados — Mini Webs</h1>
        <p class="text-sm text-slate-300 mt-1">Explora mis proyectos en vista previa o accede al sitio completo con un solo clic.</p>
      </div>

      <div class="hidden md:flex items-center gap-3">
        <button id="openAllSites" class="glass-btn">Abrir seleccionado ↗</button>
      </div>
    </header>

    <!-- CONTROLES -->
    <div class="controls-panel">
      <!-- device selector -->
      <div class="flex items-center gap-2">
        <label class="text-xs text-slate-300">Dispositivo</label>
        <div class="flex items-center gap-2">
          <button id="btnMobile" class="glass-btn" aria-pressed="true">Mobile</button>
          <button id="btnDesktop" class="glass-btn" aria-pressed="false">Desktop</button>
        </div>
      </div>

      <!-- gallery -->
      <div class="flex items-center gap-3">
        <label class="text-xs text-slate-300">Proyectos: </label>
        <div id="gallery" class="flex items-center gap-2">
          <!-- thumbs inserted by JS -->
        </div>
      </div>

      <!-- zoom & rotate -->
      <div class="flex items-center gap-3 ml-auto">
        <label class="text-xs text-slate-300">Zoom</label>
        <input id="zoom" type="range" min="50" max="150" value="100" class="h-1 w-40" />
        <label class="text-xs text-slate-300 ml-3">Rotar</label>
        <div class="flex items-center gap-2">
          <button id="rotLeft" class="glass-btn">⟲</button>
          <button id="rotRight" class="glass-btn">⟳</button>
        </div>
      </div>

      <!-- fullscreen -->
      <div class="flex items-center gap-2 ml-3">
        <button id="fullscreenBtn" class="glass-btn">Abrir en Fullscreen</button>
        <button id="openOriginal" class="glass-btn">Abrir original ↗</button>
      </div>
    </div>

    <!-- DEVICE FRAME -->
    <div id="deviceFrame" class="device-frame device-mobile mt-6">
      <div class="frame-header">
        <div class="frame-dots">
          <span class="frame-dot dot-red"></span>
          <span class="frame-dot dot-yellow"></span>
          <span class="frame-dot dot-green"></span>
        </div>
        <div class="text-xs text-slate-300">Vista interactiva — puedes navegar en la página seleccionada aquí abajo</div>
        <div class="text-xs text-slate-300">Previsualización</div>
      </div>

      <div id="previewViewport" class="preview-viewport p-6 flex justify-center">
        <div id="previewFrame" class="preview-frame">
          <!-- iframe: navegable -->
          <iframe id="miniIframe" src="https://example.com"
            sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-modals allow-downloads"
            referrerpolicy="no-referrer"
            scrolling="yes"
            loading="lazy"
          ></iframe>
        </div>
      </div>
    </div>

    <!-- Footer controls + gallery -->
    <div class="mt-6 flex items-start gap-6">
      <div class="w-full md:w-3/4">
        <p class="text-sm text-slate-300">Controles: usa Zoom para acercar/alejar la miniatura (afecta solo la vista); Rotación para simular orientación; Fullscreen para ver en todo el viewport; Abrir original abre la url en nueva pestaña.</p>
      </div>

      <div class="w-full md:w-1/4">
        <div class="bg-gradient-to-br from-white/2 to-white/1 p-3 rounded-xl border border-white/4">
          <div class="text-xs text-slate-300 mb-2">URLs en la galería</div>
          <div id="thumbList" class="grid grid-cols-2 gap-2">
            <!-- thumbnails generados por JS -->
          </div>
        </div>
      </div>
    </div>

  </div>

  <script>
    /***********************
     * Datos de ejemplo: reemplaza por tus URLs reales
     ***********************/
    const SITES = [
      { id: 's1', name: 'Luis Díaz Statics', url: 'https://santiago131440.github.io/SantiagoSterling/Dashboard2.html' },
      { id: 's2', name: 'Red Pericial', url: 'https://santiago131440.github.io/SantiagoSterling/producto.html' },
      { id: 's3', name: 'Music Blog', url: 'https://santiago131440.github.io/SantiagoSterling/Music.html' },
      { id: 's4', name: 'Test', url: 'https://santiago131440.github.io/SantiagoSterling/registro.html' },
      { id: 's5', name: 'Dashboard', url: 'https://santiago131440.github.io/SantiagoSterling/Dashboard3.html' },
      { id: 's6', name: 'Pagina prueba', url: 'https://santiago131440.github.io/SantiagoSterling/Dashboard1.html' },
      { id: 's7', name: 'Restaurante', url: 'https://santiago131440.github.io/SantiagoSterling/Restaurante.html' },
    ];

    // Elementos
    const deviceFrame = document.getElementById('deviceFrame');
    const btnMobile = document.getElementById('btnMobile');
    const btnDesktop = document.getElementById('btnDesktop');
    const zoomInput = document.getElementById('zoom');
    const rotLeft = document.getElementById('rotLeft');
    const rotRight = document.getElementById('rotRight');
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    const openOriginal = document.getElementById('openOriginal');
    const openAllSites = document.getElementById('openAllSites');
    const gallery = document.getElementById('gallery');
    const thumbList = document.getElementById('thumbList');
    const previewFrame = document.getElementById('previewFrame');
    const miniIframe = document.getElementById('miniIframe');

    // Estado
    let currentSite = SITES[0];
    let currentZoom = 1.0;
    let currentRotate = 0; // degrees

    // Inicializar galería y thumbs
    function buildGallery(){
      gallery.innerHTML = '';
      thumbList.innerHTML = '';
      SITES.forEach((s, i) => {
        // thumb in top control bar
        const t = document.createElement('div');
        t.className = 'thumb';
        t.dataset.site = s.id;
        t.title = s.name;
        const img = document.createElement('img');
        // quick preview image using service (if CORS block, falls back to svg)
        img.src = 'https://api.allorigins.win/raw?url=' + encodeURIComponent(s.url);
        img.alt = s.name;
        img.onerror = () => {
          // fallback to a generated canvas-like placeholder image
          img.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(`<svg xmlns='https://github.com/Santiago131440/SantiagoSterling/blob/main/1000234043.jpg?raw=true' width='400' height='240'><rect width='100%' height='100%' fill='#0b1220'/><text x='50%' y='50%' fill='#7c3aed' font-family='Arial' font-size='20' dominant-baseline='middle' text-anchor='middle'>${s.name}</text></svg>`);
        };
        t.appendChild(img);
        t.addEventListener('click', ()=> selectSite(s.id));
        gallery.appendChild(t);

        // small thumb list
        const small = t.cloneNode(true);
        small.addEventListener('click', ()=> selectSite(s.id));
        thumbList.appendChild(small);
      });

      // activar primera
      setActiveThumb(currentSite.id);
    }

    function setActiveThumb(siteId){
      gallery.querySelectorAll('.thumb, #thumbList .thumb').forEach(el=>{
        el.classList.toggle('active', el.dataset.site === siteId);
      });
    }

    function selectSite(siteId){
      const site = SITES.find(x=>x.id === siteId);
      if(!site) return;
      currentSite = site;
      // actualizar iframe src
      // Nota: algunos sitios bloquean embebido con X-Frame-Options -> si ocurre, iframe mostrará bloqueo
      miniIframe.src = site.url;
      setActiveThumb(siteId);
      // actualizar botones
      openOriginal.dataset.url = site.url;
      openAllSites.dataset.url = site.url;
    }

    // Device toggles
    btnMobile.addEventListener('click', ()=>{
      deviceFrame.classList.remove('device-desktop');
      deviceFrame.classList.add('device-mobile');
      btnMobile.setAttribute('aria-pressed','true');
      btnDesktop.setAttribute('aria-pressed','false');
    });
    btnDesktop.addEventListener('click', ()=>{
      deviceFrame.classList.remove('device-mobile');
      deviceFrame.classList.add('device-desktop');
      btnDesktop.setAttribute('aria-pressed','true');
      btnMobile.setAttribute('aria-pressed','false');
    });

    // Zoom control: map 50-150 to scale 0.5-1.5
    zoomInput.addEventListener('input', (e)=>{
      const v = Number(e.target.value);
      currentZoom = v / 100;
      applyTransform();
    });

    // Rotation
    rotLeft.addEventListener('click', ()=>{ currentRotate = (currentRotate - 90) % 360; applyTransform(); });
    rotRight.addEventListener('click', ()=>{ currentRotate = (currentRotate + 90) % 360; applyTransform(); });

    function applyTransform(){
      // Use CSS transform: scale + rotate
      previewFrame.style.transform = `scale(${currentZoom}) rotate(${currentRotate}deg)`;
      // For mobile small devices we keep transform-origin center
      previewFrame.style.transformOrigin = 'center center';
    }

    // Fullscreen with animated transition
    fullscreenBtn.addEventListener('click', async ()=>{
      const container = deviceFrame;
      // animate scale up (CSS handles smoothness)
      container.classList.add('will-fullscreen');
      const enterFs = async () => {
        try {
          if (container.requestFullscreen) await container.requestFullscreen();
          else if (container.webkitRequestFullscreen) await container.webkitRequestFullscreen();
          // add a class for style (some user agents change styles in FS)
          container.classList.add('is-fullscreen');
        } catch(err){
          // Fallback: emulate a centered overlay by adding class and high z-index
          container.classList.add('is-fullscreen');
        }
      };
      // little stagger for visual effect
      container.style.transition = 'all 340ms cubic-bezier(.22,.9,.3,1)';
      setTimeout(enterFs, 80);
    });

    // Exit fullscreen cleanup
    document.addEventListener('fullscreenchange', ()=>{
      const container = deviceFrame;
      if (!document.fullscreenElement) {
        // exited
        container.classList.remove('is-fullscreen');
      } else {
        container.classList.add('is-fullscreen');
      }
    });

    // Open original in new tab
    openOriginal.addEventListener('click', ()=>{
      const url = currentSite?.url || miniIframe.src;
      window.open(url, '_blank', 'noopener,noreferrer');
    });

    // Open selected (same as openOriginal)
    openAllSites.addEventListener('click', ()=>{
      const url = currentSite?.url || miniIframe.src;
      window.open(url, '_blank', 'noopener,noreferrer');
    });

    // Keyboard accessibility: +/- zoom, r to rotate right, l rotate left, f fullscreen
    document.addEventListener('keydown', (e)=>{
      if (e.key === '+' || e.key === '=') { zoomInput.value = Math.min(150, Number(zoomInput.value) + 10); zoomInput.dispatchEvent(new Event('input')); }
      if (e.key === '-') { zoomInput.value = Math.max(50, Number(zoomInput.value) - 10); zoomInput.dispatchEvent(new Event('input')); }
      if (e.key.toLowerCase() === 'r') { rotRight.click(); }
      if (e.key.toLowerCase() === 'l') { rotLeft.click(); }
      if (e.key.toLowerCase() === 'f') { fullscreenBtn.click(); }
    });

    // init
    buildGallery();
    selectSite(currentSite.id);
    applyTransform();

    // Touch: double tap to open original (mobile convenience)
    let lastTap = 0;
    previewFrame.addEventListener('touchend', (e)=>{
      const now = Date.now();
      if(now - lastTap < 300){
        // double tap
        openOriginal.click();
      }
      lastTap = now;
    });

    // Note about CORS / X-Frame-Options:
    // - algunos sitios (ej: google, muchas apps) bloquean ser embebidos en iframe.
    // - si ves un mensaje de bloqueo, considera usar una URL clonada o una captura/preview generada del sitio.
  </script>
</body>
</html>
