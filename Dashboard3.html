<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LiquidGlass — Mini Red Social de Videos (iOS-like)</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Prefer system iOS-like font stack */
    :root{
      --glass-bg: rgba(255,255,255,0.12);
      --glass-border: rgba(255,255,255,0.22);
      --accent: linear-gradient(90deg,#6ee7b7,#60a5fa 60%);
      --card-radius: 18px;
      color-scheme: light;
    }
    @media (prefers-color-scheme: dark){
      :root{ --glass-bg: rgba(8,10,15,0.36); --glass-border: rgba(255,255,255,0.06); color-scheme: dark; }
    }

    html,body{ height:100%; background: radial-gradient(1200px 600px at 10% 10%, rgba(96,165,250,0.08), transparent 10%), radial-gradient(900px 450px at 90% 90%, rgba(110,231,183,0.06), transparent 10%), #0b1020; font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, 'Helvetica Neue', Arial; }

    /* iPhone-like container */
    .device {
      width: 380px; max-width: calc(100% - 40px); height: 812px; border-radius: 46px; padding: 18px; box-sizing: border-box;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0));
      border: 1px solid rgba(255,255,255,0.06);
      box-shadow: 0 10px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      backdrop-filter: blur(18px) saturate(120%);
      -webkit-backdrop-filter: blur(18px) saturate(120%);
    }

    /* Liquid glass card */
    .glass {
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border: 1px solid var(--glass-border);
      border-radius: var(--card-radius);
      backdrop-filter: blur(14px) saturate(130%);
      -webkit-backdrop-filter: blur(14px) saturate(130%);
      box-shadow: 0 6px 20px rgba(2,6,23,0.45);
    }

    /* Floating action + smooth interactions */
    .floating { transform: translateZ(0); transition: transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .28s; }
    .floating:active{ transform: translateY(3px) scale(.997); }

    /* Video thumb styles */
    .thumb{ border-radius: 14px; overflow: hidden; background: #000; display:flex; align-items:center; justify-content:center; }
    .thumb video{ width:100%; height:100%; object-fit:cover; display:block; }

    /* bottom iOS tab blur */
    .tabbar{ position:relative; padding:10px; border-radius:16px; }

    /* responsive - show device in center on large screens */
    @media(min-width:900px){ body{ display:flex; align-items:center; justify-content:center; } }

    /* subtle glass borders inside feed */
    .meta { color: rgba(255,255,255,0.9); }

    /* player modal */
    .player-modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.85)); z-index:60; }

  </style>
</head>
<body>
  <div class="min-h-screen flex items-center justify-center p-6">
    <!-- Device frame -->
    <div class="device glass mx-auto relative">

      <!-- Top status bar -->
      <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-2">
          <div class="w-9 h-9 rounded-xl glass flex items-center justify-center text-sm font-semibold">LG</div>
          <div class="text-xs meta">LiquidGlass</div>
        </div>
        <div class="text-xs meta">9:41 AM</div>
      </div>

      <!-- Search + upload -->
      <div class="flex items-center gap-3 mb-4">
        <div class="flex-1 glass p-2 rounded-xl flex items-center gap-3">
          <svg class="w-5 h-5 opacity-70" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 21l-4.35-4.35" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></circle></svg>
          <input id="search" placeholder="Buscar videos, usuarios..." class="bg-transparent outline-none text-sm w-full text-white/90" />
        </div>
        <label for="upload" class="glass p-2 rounded-xl floating cursor-pointer" title="Subir video">
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 3v12" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M8 7l4-4 4 4" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 21h14" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </label>
        <input id="upload" type="file" accept="video/*" class="hidden" />
      </div>

      <!-- Stories / Horizontal scroller -->
      <div class="mb-4">
        <div class="flex gap-3 overflow-x-auto pb-3">
          <!-- story template -->
          <div class="min-w-[78px] glass p-3 rounded-2xl flex flex-col items-center gap-2">
            <div class="w-14 h-14 rounded-full thumb overflow-hidden"><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><rect width='100%' height='100%' fill='%2360a5fa'/><text x='50%' y='55%' font-size='36' fill='white' font-family='Arial' text-anchor='middle'>A</text></svg>" alt="avatar"></div>
            <div class="text-xs meta">Ana</div>
          </div>
          <div class="min-w-[78px] glass p-3 rounded-2xl flex flex-col items-center gap-2">
            <div class="w-14 h-14 rounded-full thumb overflow-hidden"><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><rect width='100%' height='100%' fill='%236ee7b7'/><text x='50%' y='55%' font-size='36' fill='white' font-family='Arial' text-anchor='middle'>S</text></svg>" alt="avatar"></div>
            <div class="text-xs meta">Santi</div>
          </div>
          <div class="min-w-[78px] glass p-3 rounded-2xl flex flex-col items-center gap-2">
            <div class="w-14 h-14 rounded-full thumb overflow-hidden"><img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'><rect width='100%' height='100%' fill='%23fbbf24'/><text x='50%' y='55%' font-size='36' fill='white' font-family='Arial' text-anchor='middle'>L</text></svg>" alt="avatar"></div>
            <div class="text-xs meta">Luci</div>
          </div>
        </div>
      </div>

      <!-- Feed -->
      <div id="feed" class="space-y-4 overflow-y-auto" style="height: calc(100% - 220px); padding-right:6px;">
        <!-- JS will populate feed cards -->
      </div>

      <!-- Bottom tab bar -->
      <div class="absolute left-6 right-6 bottom-6 glass tabbar flex items-center justify-between px-3">
        <div class="flex items-center gap-4">
          <button class="p-2 rounded-xl floating" id="homeBtn" aria-label="Inicio">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 11l9-7 9 7" stroke-width="1.6"></path><path d="M9 22V12h6v10" stroke-width="1.6"></path></svg>
          </button>
          <button class="p-2 rounded-xl floating" id="searchBtn" aria-label="Explorar">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="11" cy="11" r="6" stroke-width="1.6"></circle><path d="M21 21l-4.35-4.35" stroke-width="1.6"></path></svg>
          </button>
        </div>
        <div class="flex items-center gap-3">
          <button id="createBtn" class="p-2 rounded-full floating glass" title="Crear">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 5v14M5 12h14" stroke-width="1.6" stroke-linecap="round"></path></svg>
          </button>
        </div>
        <div class="flex items-center gap-4">
          <button class="p-2 rounded-xl floating" id="inboxBtn" aria-label="Bandeja">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 7h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="1.6"></path><path d="M7 7V5a5 5 0 0 1 10 0v2" stroke-width="1.6"></path></svg>
          </button>
          <button class="p-2 rounded-xl floating" id="profileBtn" aria-label="Perfil">
            <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="8" r="3" stroke-width="1.6"></circle><path d="M5.5 21a6.5 6.5 0 0 1 13 0" stroke-width="1.6"></path></svg>
          </button>
        </div>
      </div>

    </div>
  </div>

  <!-- Player modal template -->
  <div id="playerModal" class="player-modal hidden" aria-hidden="true">
    <div class="glass p-4 rounded-2xl max-w-[920px] w-full" style="max-height:90vh;">
      <div id="playerWrapper" class="w-full h-[64vh] bg-black rounded-xl overflow-hidden mb-3">
        <!-- video inserted here -->
      </div>
      <div class="flex items-center justify-between">
        <div>
          <div id="playerTitle" class="text-white font-semibold">Título del video</div>
          <div id="playerMeta" class="text-sm text-white/70">@autor • 0 vistas</div>
        </div>
        <div>
          <button id="closePlayer" class="glass p-2 rounded-xl">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Minimal mock feed and interactions
    const initialFeed = [
      { id:1, author:'Ana', title:'Atardecer en la ciudad', views: '1.2K', src: null },
      { id:2, author:'Santiago', title:'Tip de productividad', views: '3.4K', src: null },
      { id:3, author:'Lucía', title:'Receta rápida', views: '840', src: null }
    ];

    const feedEl = document.getElementById('feed');
    const upload = document.getElementById('upload');
    const playerModal = document.getElementById('playerModal');
    const playerWrapper = document.getElementById('playerWrapper');
    const playerTitle = document.getElementById('playerTitle');
    const playerMeta = document.getElementById('playerMeta');

    function createCard(item){
      const card = document.createElement('div');
      card.className = 'glass p-3 rounded-2xl flex gap-3 items-start';

      const left = document.createElement('div');
      left.className = 'w-36 h-48 thumb rounded-xl overflow-hidden flex-shrink-0';

      // If item.src present, show video element, else show placeholder poster
      if(item.src){
        const v = document.createElement('video');
        v.src = item.src; v.muted = true; v.loop = true; v.playsInline = true; v.autoplay = true;
        v.addEventListener('click', ()=> openPlayer(item));
        left.appendChild(v);
      } else {
        const img = document.createElement('div');
        img.style.width='100%'; img.style.height='100%'; img.style.display='flex'; img.style.alignItems='center'; img.style.justifyContent='center';
        img.innerHTML = `<svg width='120' height='120' viewBox='0 0 24 24' fill='none' stroke='white'><path d='M21 15V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8'></path><rect x='3' y='11' width='18' height='10' rx='2'></rect></svg>`;
        left.appendChild(img);
      }

      const right = document.createElement('div');
      right.className = 'flex-1';
      right.innerHTML = `
        <div class='flex items-center justify-between mb-2'>
          <div>
            <div class='text-sm font-semibold meta'>${item.title}</div>
            <div class='text-xs text-white/70'>@${item.author} • ${item.views} vistas</div>
          </div>
          <div class='flex items-center gap-2'>
            <button class='p-2 glass rounded-xl floating likeBtn' title='Me gusta'>
              <svg class='w-5 h-5' viewBox='0 0 24 24' fill='none' stroke='currentColor'><path d='M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 1 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z'></path></svg>
            </button>
            <button class='p-2 glass rounded-xl floating' title='Compartir'>
              <svg class='w-5 h-5' viewBox='0 0 24 24' fill='none' stroke='currentColor'><path d='M4 12v8a2 2 0 0 0 2 2h12'></path><path d='M16 6l-4-4-4 4'></path></svg>
            </button>
          </div>
        </div>
        <div class='text-sm text-white/70'>Descripción breve que resume el video. Tap para ver en grande.</div>
      `;

      // click on card to open player
      card.addEventListener('click', (e)=>{
        // avoid clicks on like/share
        if(e.target.closest('.likeBtn') || e.target.closest('button')) return;
        openPlayer(item);
      });

      card.insertBefore(left, card.firstChild);
      card.appendChild(right);
      return card;
    }

    function renderFeed(items){
      feedEl.innerHTML = '';
      items.forEach(i=> feedEl.appendChild(createCard(i)));
    }

    function openPlayer(item){
      playerWrapper.innerHTML = '';
      const v = document.createElement('video');
      v.controls = true; v.autoplay = true; v.playsInline = true; v.style.width='100%'; v.style.height='100%'; v.style.objectFit='contain';
      if(item.src) v.src = item.src; else {
        // show a short data-URI demo placeholder (silent black video isn't practical). Instead show an animated SVG poster with play button overlay
        playerWrapper.innerHTML = `<div style='width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:white'><div style='text-align:center'><svg width='120' height='120' viewBox='0 0 24 24' fill='none' stroke='white'><path d='M21 15V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8'></path><rect x='3' y='11' width='18' height='10' rx='2'></rect></svg><div style='margin-top:12px;color:#ddd'>Video de demostración</div></div></div>`;
        playerModal.classList.remove('hidden'); playerModal.setAttribute('aria-hidden','false');
        playerTitle.textContent = item.title;
        playerMeta.textContent = `@${item.author} • ${item.views} vistas`;
        return;
      }
      playerWrapper.appendChild(v);
      playerModal.classList.remove('hidden'); playerModal.setAttribute('aria-hidden','false');
      playerTitle.textContent = item.title;
      playerMeta.textContent = `@${item.author} • ${item.views} vistas`;
    }

    document.getElementById('closePlayer').addEventListener('click', ()=>{
      playerModal.classList.add('hidden'); playerModal.setAttribute('aria-hidden','true');
      playerWrapper.innerHTML = '';
    });

    // upload handling - add to top of feed
    upload.addEventListener('change', (e)=>{
      const file = e.target.files[0];
      if(!file) return;
      const url = URL.createObjectURL(file);
      const newItem = { id:Date.now(), author:'Tú', title:file.name, views:'0', src:url };
      initialFeed.unshift(newItem);
      renderFeed(initialFeed);
      // reset input
      upload.value = '';
    });

    // search simple filter
    document.getElementById('search').addEventListener('input', (e)=>{
      const q = e.target.value.toLowerCase();
      if(!q) return renderFeed(initialFeed);
      renderFeed(initialFeed.filter(i => (i.title||'').toLowerCase().includes(q) || (i.author||'').toLowerCase().includes(q)));
    });

    // initial render
    renderFeed(initialFeed);

    // small UX: pause videos when modal open or page hidden
    document.addEventListener('visibilitychange', ()=>{
      document.querySelectorAll('video').forEach(v=>{ if(document.hidden) v.pause(); else v.play().catch(()=>{}); });
    });

    // keyboard escape to close
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ document.getElementById('closePlayer').click(); } });

    // responsive behavior: allow dragging to scroll feed on touch
    let startY=0; const feed = document.getElementById('feed');
    feed.addEventListener('touchstart',(e)=>{ startY = e.touches[0].clientY; });

  </script>

</body>
</html>