<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ventas totales</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

  <link rel="stylesheet" href="Dashboard1.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>VENTAS TOTALES GENERADAS</h1>
      <p class="subtitle">Totales generados a partir del seguimientos de las transacciones realizadas.</p>
    </header>

    <div class="toolbar">
      <div class="filters">
        <label for="yearFilter" style="display:flex;align-items:center;gap:8px">
          <small>Año</small>
          <select id="yearFilter">
            <option value="2024" selected>2024</option>
            <option value="2023">2023</option>
          </select>
        </label>

        <label for="regionFilter" style="display:flex;align-items:center;gap:8px">
          <small>Región</small>
          <select id="regionFilter">
            <option value="todas">Todas</option>
            <option value="norte">Norte</option>
            <option value="centro">Centro</option>
            <option value="sur">Sur</option>
          </select>
        </label>

        <label for="categoryFilter" style="display:flex;align-items:center;gap:8px">
          <small>Categoría</small>
          <select id="categoryFilter">
            <option value="todas">Todas</option>
            <option value="A">Sterling 1</option>
            <option value="B">Sterling 2</option>
            <option value="C">Sterling 3</option>
          </select>
        </label>
      </div>

      <div class="actions">
        <button id="exportExcelBtn">📊 Exportar a Excel</button>
        <button id="exportPdfBtn">📄 Exportar a PDF (con imagen)</button>
        <button id="downloadImageBtn" class="secondary">🖼 Descargar Imagen</button>
      </div>
    </div>

    <div id="dashboardArea">
      <section class="metrics-grid" id="metricsGrid">
        <div class="metric-card">
          <div class="metric-label">Total Ventas</div>
          <div class="metric-value" id="totalVentas">$0</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Productos Vendidos</div>
          <div class="metric-value" id="productosVendidos">0</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Clientes Activos</div>
          <div class="metric-value" id="clientesActivos">0</div>
        </div>
        <div class="metric-card">
          <div class="metric-label">Tasa de Conversión</div>
          <div class="metric-value" id="tasaConversion">0%</div>
        </div>
      </section>

      <section class="charts-grid">
        <div class="chart-card">
          <div class="chart-title">Tendencia Mensual</div>
          <div style="height:260px width:200px"><canvas id="lineChart"></canvas></div>
        </div>

        <div class="chart-card">
          <div class="chart-title">Distribución por Producto</div>
          <div style="height:260px width:200px"><canvas id="barChart"></canvas></div>
        </div>

        <div class="chart-card">
          <div class="chart-title">Segmentación por Categoría</div>
          <div style="height:260px width:200px"><canvas id="pieChart"></canvas></div>
        </div>
      </section>

      <section class="data-table">
        <h3 style="margin-bottom:10px">Detalle de Datos Filtrados</h3>
        <table id="detailTable">
          <thead>
            <tr><th>Producto</th><th>Unidades</th><th>Categoria</th><th>Región</th><th>Mes</th><th>Venta ($)</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </div>
  </div>
  <script src="Dashboard1.js"></script>
</body>
</html>
