<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Salarios M√≠nimos Mundiales</title>
  <style>
    :root {
      --bg:#0f0f1a;--surface:#1a1a2e;--surface2:#16213e;--surface3:#0f3460;
      --accent:#e94560;--accent2:#0f7dff;--accent3:#00d4aa;
      --text:#e8e8f0;--text2:#9999bb;--border:#2a2a4a;
      --gold:#ffd700;--green:#00d4aa;--red:#e94560;
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;}
    header{background:linear-gradient(135deg,var(--surface3) 0%,#1a0a2e 100%);padding:20px 28px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:14px;border-bottom:2px solid var(--accent);box-shadow:0 4px 30px rgba(233,69,96,0.2);}
    .logo{display:flex;align-items:center;gap:12px;}
    .logo-icon{width:46px;height:46px;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;}
    .logo h1{font-size:1.4rem;font-weight:800;}
    .logo h1 span{color:var(--accent);}
    .logo p{font-size:0.73rem;color:var(--text2);margin-top:2px;}
    .header-stats{display:flex;gap:20px;flex-wrap:wrap;}
    .stat-pill{background:rgba(255,255,255,0.06);border:1px solid var(--border);border-radius:20px;padding:7px 14px;font-size:0.78rem;text-align:center;}
    .stat-pill strong{display:block;font-size:1.05rem;color:var(--accent3);}
    .tabs{display:flex;background:var(--surface);border-bottom:1px solid var(--border);overflow-x:auto;}
    .tab{padding:13px 22px;cursor:pointer;font-size:0.88rem;font-weight:600;color:var(--text2);white-space:nowrap;border-bottom:3px solid transparent;transition:all 0.2s;}
    .tab:hover{color:var(--text);background:rgba(255,255,255,0.04);}
    .tab.active{color:var(--accent);border-color:var(--accent);}
    .main{padding:22px 28px;max-width:1400px;margin:0 auto;}
    .panel{display:none;}
    .panel.active{display:block;}
    .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:20px;}
    .search-box{flex:1;min-width:180px;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:9px 14px;color:var(--text);font-size:0.88rem;outline:none;transition:border-color 0.2s;}
    .search-box:focus{border-color:var(--accent2);}
    .search-box::placeholder{color:var(--text2);}
    select.fs{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:9px 14px;color:var(--text);font-size:0.88rem;outline:none;cursor:pointer;}
    .btn{background:linear-gradient(135deg,var(--accent),#c23152);border:none;border-radius:10px;padding:9px 18px;color:#fff;font-size:0.88rem;font-weight:600;cursor:pointer;transition:transform 0.15s,box-shadow 0.15s;}
    .btn:hover{transform:translateY(-2px);box-shadow:0 4px 18px rgba(233,69,96,0.4);}
    .btn-blue{background:linear-gradient(135deg,var(--accent2),#0054b8);}
    .btn-blue:hover{box-shadow:0 4px 18px rgba(15,125,255,0.4);}
    .btn-green{background:linear-gradient(135deg,var(--accent3),#007a61);}
    .tw{background:var(--surface);border-radius:14px;border:1px solid var(--border);overflow:hidden;}
    table{width:100%;border-collapse:collapse;}
    thead{background:linear-gradient(90deg,var(--surface3),#1a0a2e);}
    th{padding:12px 14px;text-align:left;font-size:0.77rem;text-transform:uppercase;letter-spacing:0.05em;color:var(--text2);cursor:pointer;user-select:none;white-space:nowrap;}
    th:hover{color:var(--text);}
    td{padding:11px 14px;border-top:1px solid rgba(255,255,255,0.04);font-size:0.86rem;}
    tbody tr{transition:background 0.15s;}
    tbody tr:hover{background:rgba(255,255,255,0.03);}
    .rb{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:7px;font-weight:800;font-size:0.78rem;}
    .r1{background:linear-gradient(135deg,#ffd700,#ffaa00);color:#000;}
    .r2{background:linear-gradient(135deg,#c0c0c0,#909090);color:#000;}
    .r3{background:linear-gradient(135deg,#cd7f32,#9a5c1a);color:#fff;}
    .rn{background:rgba(255,255,255,0.08);color:var(--text2);}
    .fe{font-size:1.3rem;margin-right:7px;}
    .cn{font-weight:600;}
    .cr{font-size:0.73rem;color:var(--text2);}
    .su{font-weight:700;font-size:0.93rem;}
    .sl{font-size:0.76rem;color:var(--text2);margin-top:2px;}
    .mb{height:5px;background:rgba(255,255,255,0.06);border-radius:3px;overflow:hidden;margin-top:4px;min-width:100px;}
    .mbf{height:100%;border-radius:3px;background:linear-gradient(90deg,var(--accent2),var(--accent3));}
    .cc{cursor:pointer;width:17px;height:17px;accent-color:var(--accent);}
    .nr{text-align:center;padding:50px;color:var(--text2);}
    .cg{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:14px;margin-bottom:22px;}
    .cc-card{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:18px;position:relative;transition:transform 0.2s,box-shadow 0.2s;}
    .cc-card:hover{transform:translateY(-3px);box-shadow:0 8px 28px rgba(0,0,0,0.3);}
    .cc-card .rb-btn{position:absolute;top:11px;right:11px;background:rgba(233,69,96,0.15);border:1px solid rgba(233,69,96,0.3);color:var(--accent);border-radius:6px;width:22px;height:22px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:0.85rem;font-weight:700;}
    .cc-card .cflag{font-size:2.3rem;margin-bottom:7px;}
    .cc-card h3{font-size:1.05rem;margin-bottom:3px;}
    .cc-card .cregion{font-size:0.73rem;color:var(--text2);margin-bottom:10px;}
    .cc-card .ms{font-size:1.9rem;font-weight:800;color:var(--accent3);}
    .cc-card .cl{font-size:0.73rem;color:var(--text2);}
    .cc-card .dr{display:flex;justify-content:space-between;padding:7px 0;border-top:1px solid var(--border);font-size:0.8rem;}
    .cc-card .dr span:last-child{font-weight:600;}
    .cp{background:var(--surface);border:2px dashed var(--border);border-radius:14px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:180px;color:var(--text2);font-size:0.88rem;gap:7px;}
    .cp span{font-size:1.8rem;}
    .ccw{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:22px;margin-top:18px;}
    .ccw h3{margin-bottom:14px;font-size:0.95rem;color:var(--text2);}
    .cbr{display:flex;align-items:center;gap:10px;margin-bottom:10px;}
    .cbl{width:120px;font-size:0.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .cbo{flex:1;height:26px;background:rgba(255,255,255,0.05);border-radius:6px;overflow:hidden;position:relative;}
    .cbi{height:100%;border-radius:6px;display:flex;align-items:center;padding-left:9px;font-size:0.76rem;font-weight:700;color:#fff;transition:width 0.6s ease;min-width:50px;}
    .cv{width:88px;text-align:right;font-size:0.8rem;font-weight:700;color:var(--accent3);}
    /* CONVERTER */
    .conv-wrap{max-width:680px;margin:0 auto;}
    .conv-card{background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:28px;margin-bottom:22px;}
    .conv-card h2{font-size:1.25rem;margin-bottom:7px;}
    .conv-card p{font-size:0.82rem;color:var(--text2);margin-bottom:22px;}
    .conv-row{display:grid;grid-template-columns:1fr auto 1fr;gap:10px;align-items:end;margin-bottom:16px;}
    .cf label{display:block;font-size:0.78rem;color:var(--text2);margin-bottom:5px;}
    .cf input,.cf select{width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:11px 13px;color:var(--text);font-size:0.97rem;outline:none;transition:border-color 0.2s;}
    .cf input:focus,.cf select:focus{border-color:var(--accent2);}
    .swap-btn{background:var(--surface3);border:1px solid var(--border);border-radius:10px;width:42px;height:42px;cursor:pointer;color:var(--text);font-size:1.15rem;display:flex;align-items:center;justify-content:center;transition:background 0.2s,transform 0.2s;}
    .swap-btn:hover{background:var(--accent);transform:rotate(180deg);}
    .conv-res{background:linear-gradient(135deg,rgba(0,212,170,0.1),rgba(15,125,255,0.1));border:1px solid rgba(0,212,170,0.3);border-radius:12px;padding:18px;text-align:center;}
    .conv-res .abig{font-size:2.3rem;font-weight:800;color:var(--accent3);}
    .conv-res .ri{font-size:0.78rem;color:var(--text2);margin-top:5px;}
    .conv-res .lu{font-size:0.7rem;color:var(--text2);margin-top:4px;}
    .rbadge{display:inline-block;background:rgba(0,212,170,0.15);border:1px solid rgba(0,212,170,0.3);color:var(--accent3);border-radius:8px;padding:3px 9px;font-size:0.73rem;font-weight:600;margin-top:7px;}
    .qc{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:18px;}
    .qc h3{margin-bottom:10px;font-size:0.85rem;color:var(--text2);text-transform:uppercase;letter-spacing:0.05em;}
    .qg{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:9px;}
    .qi{background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:11px;cursor:pointer;transition:background 0.15s,border-color 0.15s;}
    .qi:hover{background:rgba(15,125,255,0.1);border-color:var(--accent2);}
    .qi .pair{font-size:0.78rem;color:var(--text2);}
    .qi .rate{font-size:0.97rem;font-weight:700;color:var(--text);}
    /* REGIONS */
    .rs{margin-bottom:30px;}
    .rt{display:flex;align-items:center;gap:9px;margin-bottom:12px;}
    .rt h3{font-size:1.05rem;}
    .rt .cnt{background:rgba(255,255,255,0.08);border-radius:8px;padding:2px 7px;font-size:0.73rem;color:var(--text2);}
    .rc{display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));gap:9px;}
    .sp{background:var(--surface);border:1px solid var(--border);border-radius:11px;padding:12px 14px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:border-color 0.15s,transform 0.15s;}
    .sp:hover{border-color:var(--accent2);transform:translateY(-2px);}
    .sp.sel{border-color:var(--accent);background:rgba(233,69,96,0.08);}
    .sp .pf{font-size:1.5rem;}
    .sp .pi{flex:1;}
    .sp .pn{font-size:0.83rem;font-weight:600;}
    .sp .pa{font-size:0.92rem;font-weight:700;color:var(--accent3);}
    /* STATS */
    .sg{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:14px;margin-bottom:22px;}
    .sc{background:var(--surface);border:1px solid var(--border);border-radius:13px;padding:18px;}
    .sc .ic{font-size:1.7rem;margin-bottom:7px;}
    .sc .lb{font-size:0.76rem;color:var(--text2);margin-bottom:3px;}
    .sc .vl{font-size:1.4rem;font-weight:800;}
    .sc .sb{font-size:0.76rem;color:var(--text2);margin-top:2px;}
    /* UTILS */
    .live-dot{display:inline-block;width:7px;height:7px;background:var(--green);border-radius:50%;animation:pulse 1.5s ease-in-out infinite;margin-right:5px;}
    @keyframes pulse{0%,100%{opacity:1;}50%{opacity:0.3;}}
    .toast{position:fixed;bottom:22px;right:22px;background:var(--surface3);border:1px solid var(--accent3);border-radius:10px;padding:11px 18px;font-size:0.83rem;color:var(--text);z-index:999;animation:slideIn 0.3s ease;box-shadow:0 8px 28px rgba(0,0,0,0.4);}
    @keyframes slideIn{from{transform:translateY(18px);opacity:0;}to{transform:translateY(0);opacity:1;}}
    @media(max-width:768px){.main{padding:14px;} header{padding:14px;} .conv-row{grid-template-columns:1fr;} .swap-btn{width:100%;height:34px;}}
  </style>
</head>
<body>
<header>
  <div class="logo">
    <div class="logo-icon">üí∞</div>
    <div>
      <h1>Salarios <span>M√≠nimos</span> Mundial</h1>
      <p><span class="live-dot"></span>Datos actualizados 2025‚Äì2026 ¬∑ 80+ pa√≠ses</p>
    </div>
  </div>
  <div class="header-stats">
    <div class="stat-pill"><strong id="hc">‚Äî</strong>Pa√≠ses</div>
    <div class="stat-pill"><strong id="hh">‚Äî</strong>M√°s alto</div>
    <div class="stat-pill"><strong id="hl">‚Äî</strong>M√°s bajo</div>
    <div class="stat-pill"><strong id="ha">‚Äî</strong>Promedio</div>
  </div>
</header>

<div class="tabs">
  <div class="tab active" onclick="showTab('tabla')">Tabla Mundial</div>
  <div class="tab" onclick="showTab('comparar')">Comparar</div>
  <div class="tab" onclick="showTab('conversor')">Conversor</div>
  <div class="tab" onclick="showTab('regiones')">Regiones</div>
  <div class="tab" onclick="showTab('stats')">Estad√≠sticas</div>
</div>

<div class="main">

  <!-- TABLA -->
  <div id="panel-tabla" class="panel active">
    <div class="toolbar">
      <input class="search-box" id="si" placeholder="Buscar pa√≠s..." oninput="ft()">
      <select class="fs" id="rf" onchange="ft()">
        <option value="">Todas las regiones</option>
        <option>Am√©rica del Norte</option><option>Am√©rica Latina</option>
        <option>Europa</option><option>Asia</option>
        <option>Ocean√≠a</option><option>√Åfrica</option><option>Oriente Medio</option>
      </select>
      <select class="fs" id="ss" onchange="st()">
        <option value="ud">Mayor ‚Üí Menor (USD)</option>
        <option value="ua">Menor ‚Üí Mayor (USD)</option>
        <option value="na">Pa√≠s A‚ÄìZ</option><option value="nd">Pa√≠s Z‚ÄìA</option>
      </select>
      <button class="btn btn-blue" onclick="showTab('comparar')">Ver comparaci√≥n</button>
    </div>
    <div class="tw"><table><thead><tr>
      <th>#</th><th>Pa√≠s</th><th>Regi√≥n</th>
      <th>Mensual (USD)</th><th>Moneda Local</th><th>Actualiz.</th><th>Barra</th><th>+</th>
    </tr></thead><tbody id="tb"></tbody></table></div>
  </div>

  <!-- COMPARAR -->
  <div id="panel-comparar" class="panel">
    <div class="toolbar">
      <select class="fs" id="acs" style="flex:1;max-width:320px;"><option value="">+ A√±adir pa√≠s...</option></select>
      <button class="btn" onclick="afs()">A√±adir</button>
      <button class="btn btn-blue" onclick="clearCmp()">üóëÔ∏è Limpiar</button>
    </div>
    <div class="cg" id="cg"></div>
    <div class="ccw" id="ccw" style="display:none;"><h3>üìä Comparativa Visual (USD/mes)</h3><div id="ccb"></div></div>
  </div>

  <!-- CONVERSOR -->
  <div id="panel-conversor" class="panel">
    <div class="conv-wrap">
      <div class="conv-card">
        <h2>üí± Conversor de Moneda en Tiempo Real</h2>
        <p><span class="live-dot"></span>Tasas actualizadas autom√°ticamente cada 10 minutos</p>
        <div class="conv-row">
          <div class="cf"><label>Cantidad</label><input type="number" id="ca" value="1" min="0" oninput="conv()"></div>
          <div style="display:flex;align-items:flex-end;">
            <button class="swap-btn" onclick="swapC()" title="Intercambiar">‚áÑ</button>
          </div>
          <div class="cf"><label>De moneda</label><select id="cfrom" onchange="conv()"></select></div>
        </div>
        <div class="cf" style="margin-bottom:18px;"><label>A moneda</label><select id="cto" onchange="conv()"></select></div>
        <div class="conv-res" id="cres">
          <div class="abig" id="cra">‚Äî</div>
          <div class="ri" id="cri">Cargando tasas de cambio...</div>
          <div class="lu" id="clu"></div>
          <span class="rbadge" id="crb"></span>
        </div>
      </div>
      <div class="qc">
        <h3>‚ö° Pares populares</h3>
        <div class="qg" id="qg"></div>
      </div>
    </div>
  </div>

  <!-- REGIONES -->
  <div id="panel-regiones" class="panel"><div id="rc"></div></div>

  <!-- STATS -->
  <div id="panel-stats" class="panel">
    <div class="sg" id="sg"></div>
    <div class="ccw"><h3>üèÜ Top 15 Salarios M√°s Altos (USD/mes)</h3><div id="t15"></div></div>
    <div class="ccw" style="margin-top:14px;"><h3>üìâ 10 Salarios M√°s Bajos (USD/mes)</h3><div id="b10"></div></div>
  </div>

</div>

<script>
const COUNTRIES=[
  // EUROPA
  {f:'üá®üá≠',n:'Suiza',r:'Europa',u:3200,l:'~3.500 CHF/mes',c:'CHF',y:'2025'},
  {f:'üá±üá∫',n:'Luxemburgo',r:'Europa',u:3102,l:'2.638 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá©üá∞',n:'Dinamarca',r:'Europa',u:2900,l:'~22.000 DKK (conv.)',c:'DKK',y:'2025'},
  {f:'üá¶üá∫',n:'Australia',r:'Ocean√≠a',u:2720,l:'2.309 AUD/mes',c:'AUD',y:'2025'},
  {f:'üáÆüá∏',n:'Islandia',r:'Europa',u:2600,l:'(por convenio)',c:'ISK',y:'2025'},
  {f:'üá≥üá¥',n:'Noruega',r:'Europa',u:2600,l:'(por convenio)',c:'NOK',y:'2025'},
  {f:'üáÆüá™',n:'Irlanda',r:'Europa',u:2683,l:'2.282 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá≥üáø',n:'Nueva Zelanda',r:'Ocean√≠a',u:2620,l:'2.340 NZD/mes',c:'NZD',y:'2025'},
  {f:'üá≥üá±',n:'Pa√≠ses Bajos',r:'Europa',u:2572,l:'2.193 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá©üá™',n:'Alemania',r:'Europa',u:2537,l:'2.161 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá∏üá™',n:'Suecia',r:'Europa',u:2200,l:'(por convenio)',c:'SEK',y:'2025'},
  {f:'üáßüá™',n:'B√©lgica',r:'Europa',u:2432,l:'2.070 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá®üá¶',n:'Canad√°',r:'Am√©rica del Norte',u:2100,l:'2.880 CAD/mes',c:'CAD',y:'2025'},
  {f:'üá´üá∑',n:'Francia',r:'Europa',u:2115,l:'1.802 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá¨üáß',n:'Reino Unido',r:'Europa',u:2060,l:'1.638 GBP/mes',c:'GBP',y:'2025'},
  {f:'üáÆüá±',n:'Israel',r:'Oriente Medio',u:1700,l:'6.248 ILS/mes',c:'ILS',y:'2025'},
  {f:'üá∞üá∑',n:'Corea del Sur',r:'Asia',u:1550,l:'10.030 KRW/h',c:'KRW',y:'2025'},
  {f:'üá™üá∏',n:'Espa√±a',r:'Europa',u:1620,l:'1.381 EUR/mes',c:'EUR',y:'2025'},
  {f:'üáØüáµ',n:'Jap√≥n',r:'Asia',u:1337,l:'1.113 JPY/h (Tokio)',c:'JPY',y:'2025'},
  {f:'üáµüá±',n:'Polonia',r:'Europa',u:1332,l:'1.133 EUR/mes',c:'PLN',y:'2026'},
  {f:'üá∫üá∏',n:'EE.UU.',r:'Am√©rica del Norte',u:1256,l:'$7.25/hora (federal)',c:'USD',y:'2025'},
  {f:'üá∏üá¨',n:'Singapur',r:'Asia',u:1120,l:'1.500 SGD/mes',c:'SGD',y:'2025'},
  {f:'üá®üáø',n:'Rep. Checa',r:'Europa',u:1085,l:'923 EUR/mes',c:'CZK',y:'2026'},
  {f:'üáµüáπ',n:'Portugal',r:'Europa',u:1081,l:'920 EUR/mes',c:'EUR',y:'2026'},
  {f:'üá®üáæ',n:'Chipre',r:'Europa',u:1174,l:'1.000 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá¨üá∑',n:'Grecia',r:'Europa',u:1207,l:'1.027 EUR/mes',c:'EUR',y:'2026'},
  {f:'üá≠üá∑',n:'Croacia',r:'Europa',u:1234,l:'1.050 EUR/mes',c:'EUR',y:'2026'},
  {f:'üá≤üáπ',n:'Malta',r:'Europa',u:1167,l:'993 EUR/mes',c:'EUR',y:'2026'},
  {f:'üá±üáπ',n:'Lituania',r:'Europa',u:1220,l:'1.038 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá∏üáÆ',n:'Eslovenia',r:'Europa',u:1500,l:'1.278 EUR/mes',c:'EUR',y:'2025'},
  {f:'üáÆüáπ',n:'Italia',r:'Europa',u:1310,l:'(por convenio)',c:'EUR',y:'2025'},
  {f:'üá™üá™',n:'Estonia',r:'Europa',u:1040,l:'886 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá∏üá∞',n:'Eslovaquia',r:'Europa',u:958,l:'816 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá±üáª',n:'Letonia',r:'Europa',u:869,l:'740 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá∑üá¥',n:'Ruman√≠a',r:'Europa',u:956,l:'814 EUR/mes',c:'EUR',y:'2025'},
  {f:'üá≠üá∫',n:'Hungr√≠a',r:'Europa',u:830,l:'707 EUR/mes',c:'HUF',y:'2025'},
  {f:'üáßüá¨',n:'Bulgaria',r:'Europa',u:647,l:'551 EUR/mes',c:'BGN',y:'2025'},
  {f:'üá∑üá∏',n:'Serbia',r:'Europa',u:794,l:'679 EUR/mes',c:'RSD',y:'2026'},
  {f:'üá≤üá™',n:'Montenegro',r:'Europa',u:786,l:'670 EUR/mes',c:'EUR',y:'2025'},
  {f:'üáπüá∑',n:'Turqu√≠a',r:'Europa',u:763,l:'650 EUR/mes',c:'TRY',y:'2026'},
  {f:'üá¶üá±',n:'Albania',r:'Europa',u:606,l:'515 EUR/mes',c:'ALL',y:'2025'},
  {f:'üá≤üá©',n:'Moldavia',r:'Europa',u:335,l:'285 EUR/mes',c:'MDL',y:'2025'},
  {f:'üá∫üá¶',n:'Ucrania',r:'Europa',u:193,l:'164 EUR/mes',c:'UAH',y:'2025'},
  {f:'üáßüá¶',n:'Bosnia',r:'Europa',u:616,l:'524 EUR/mes',c:'BAM',y:'2025'},
  {f:'üá≤üá∞',n:'Macedonia Norte',r:'Europa',u:686,l:'584 EUR/mes',c:'MKD',y:'2025'},
  // LATINOAM√âRICA
  {f:'üá®üá∑',n:'Costa Rica',r:'Am√©rica Latina',u:751,l:'373.092 CRC/mes',c:'CRC',y:'2026'},
  {f:'üá®üá±',n:'Chile',r:'Am√©rica Latina',u:597,l:'539.000 CLP/mes',c:'CLP',y:'2026'},
  {f:'üá∫üáæ',n:'Uruguay',r:'Am√©rica Latina',u:537,l:'23.604 UYU/mes',c:'UYU',y:'2025'},
  {f:'üá™üá®',n:'Ecuador',r:'Am√©rica Latina',u:482,l:'482 USD/mes',c:'USD',y:'2026'},
  {f:'üá¨üáπ',n:'Guatemala',r:'Am√©rica Latina',u:466,l:'3.738 GTQ/mes',c:'GTQ',y:'2025'},
  {f:'üá≤üáΩ',n:'M√©xico',r:'Am√©rica Latina',u:417,l:'278,80 MXN/d√≠a',c:'MXN',y:'2025'},
  {f:'üá®üá¥',n:'Colombia',r:'Am√©rica Latina',u:446,l:'1.746.882 COP/mes',c:'COP',y:'2026'},
  {f:'üáµüáæ',n:'Paraguay',r:'Am√©rica Latina',u:397,l:'2.680.373 PYG/mes',c:'PYG',y:'2025'},
  {f:'üáßüá¥',n:'Bolivia',r:'Am√©rica Latina',u:397,l:'2.750 BOB/mes',c:'BOB',y:'2025'},
  {f:'üá≠üá≥',n:'Honduras',r:'Am√©rica Latina',u:357,l:'8.972 HNL/mes',c:'HNL',y:'2025'},
  {f:'üáµüá¶',n:'Panam√°',r:'Am√©rica Latina',u:341,l:'341 USD/mes',c:'USD',y:'2025'},
  {f:'üáµüá™',n:'Per√∫',r:'Am√©rica Latina',u:335,l:'1.130 PEN/mes',c:'PEN',y:'2025'},
  {f:'üá©üá¥',n:'Rep. Dominicana',r:'Am√©rica Latina',u:267,l:'16.993 DOP/mes',c:'DOP',y:'2026'},
  {f:'üáßüá∑',n:'Brasil',r:'Am√©rica Latina',u:295,l:'1.621 BRL/mes',c:'BRL',y:'2026'},
  {f:'üá¶üá∑',n:'Argentina',r:'Am√©rica Latina',u:233,l:'341.000 ARS/mes',c:'ARS',y:'2026'},
  {f:'üá∏üáª',n:'El Salvador',r:'Am√©rica Latina',u:243,l:'365 USD/mes',c:'USD',y:'2025'},
  {f:'üá≥üáÆ',n:'Nicaragua',r:'Am√©rica Latina',u:210,l:'6.338 NIO/mes',c:'NIO',y:'2025'},
  {f:'üá≠üáπ',n:'Hait√≠',r:'Am√©rica Latina',u:75,l:'8.635 HTG/mes',c:'HTG',y:'2025'},
  {f:'üá®üá∫',n:'Cuba',r:'Am√©rica Latina',u:7,l:'2.100 CUP/mes',c:'CUP',y:'2025'},
  {f:'üáªüá™',n:'Venezuela',r:'Am√©rica Latina',u:1,l:'130 VES/mes',c:'VES',y:'2025'},
  // ASIA
  {f:'üá∞üá∑',n:'Corea S.',r:'Asia',u:1550,l:'10.030 KRW/h',c:'KRW',y:'2025'},
  {f:'üáØüáµ',n:'Jap√≥n (prom)',r:'Asia',u:1337,l:'1.013 JPY/h (nac.)',c:'JPY',y:'2025'},
  {f:'üá∏üá¨',n:'Singapur',r:'Asia',u:1120,l:'1.500 SGD/mes',c:'SGD',y:'2025'},
  {f:'üá®üá≥',n:'China (Shangh√°i)',r:'Asia',u:350,l:'2.690 CNY/mes',c:'CNY',y:'2025'},
  {f:'üá≤üáæ',n:'Malasia',r:'Asia',u:330,l:'1.500 MYR/mes',c:'MYR',y:'2025'},
  {f:'üáπüá≠',n:'Tailandia',r:'Asia',u:330,l:'11.780 THB/mes',c:'THB',y:'2025'},
  {f:'üáµüá≠',n:'Filipinas',r:'Asia',u:280,l:'16.000 PHP/mes',c:'PHP',y:'2025'},
  {f:'üáÆüá©',n:'Indonesia',r:'Asia',u:255,l:'4.180.375 IDR/mes',c:'IDR',y:'2025'},
  {f:'üáªüá≥',n:'Vietnam',r:'Asia',u:210,l:'4.680.000 VND/mes',c:'VND',y:'2025'},
  {f:'üáÆüá≥',n:'India (media)',r:'Asia',u:200,l:'16.000 INR/mes',c:'INR',y:'2025'},
  {f:'üá¶üá≤',n:'Armenia',r:'Asia',u:230,l:'90.000 AMD/mes',c:'AMD',y:'2025'},
  {f:'üá¨üá™',n:'Georgia',r:'Asia',u:200,l:'550 GEL/mes',c:'GEL',y:'2025'},
  {f:'üá¶üáø',n:'Azerbaiy√°n',r:'Asia',u:210,l:'360 AZN/mes',c:'AZN',y:'2025'},
  {f:'üá∞üáø',n:'Kazajist√°n',r:'Asia',u:140,l:'70.000 KZT/mes',c:'KZT',y:'2025'},
  {f:'üá≥üáµ',n:'Nepal',r:'Asia',u:135,l:'18.000 NPR/mes',c:'NPR',y:'2025'},
  {f:'üá∞üá≠',n:'Camboya',r:'Asia',u:250,l:'1.023.000 KHR/mes',c:'KHR',y:'2024'},
  {f:'üá±üá∞',n:'Sri Lanka',r:'Asia',u:125,l:'40.000 LKR/mes',c:'LKR',y:'2025'},
  {f:'üáµüá∞',n:'Pakist√°n',r:'Asia',u:130,l:'36.000 PKR/mes',c:'PKR',y:'2025'},
  {f:'üáßüá©',n:'Banglad√©s',r:'Asia',u:103,l:'12.500 BDT/mes',c:'BDT',y:'2024'},
  {f:'üá≤üá≤',n:'Myanmar',r:'Asia',u:90,l:'4.800 MMK/mes',c:'MMK',y:'2024'},
  {f:'üá∫üáø',n:'Uzbekist√°n',r:'Asia',u:80,l:'1.050.000 UZS/mes',c:'UZS',y:'2025'},
  // ORIENTE MEDIO
  {f:'üá¶üá™',n:'Emiratos √Årabes',r:'Oriente Medio',u:820,l:'3.000 AED/mes',c:'AED',y:'2025'},
  {f:'üá∏üá¶',n:'Arabia Saudita',r:'Oriente Medio',u:800,l:'3.000 SAR/mes',c:'SAR',y:'2025'},
  {f:'üáÆüá±',n:'Israel',r:'Oriente Medio',u:1700,l:'6.248 ILS/mes',c:'ILS',y:'2025'},
  {f:'üáØüá¥',n:'Jordania',r:'Oriente Medio',u:330,l:'234 JOD/mes',c:'JOD',y:'2025'},
  {f:'üáÆüá∂',n:'Irak',r:'Oriente Medio',u:340,l:'450.000 IQD/mes',c:'IQD',y:'2025'},
  {f:'üáÆüá∑',n:'Ir√°n',r:'Oriente Medio',u:150,l:'23M IRR/mes',c:'IRR',y:'2025'},
  {f:'üá±üáß',n:'L√≠bano',r:'Oriente Medio',u:80,l:'9M LBP/mes',c:'LBP',y:'2025'},
  // OCEAN√çA
  {f:'üá¶üá∫',n:'Australia',r:'Ocean√≠a',u:2720,l:'2.309 AUD/mes',c:'AUD',y:'2025'},
  {f:'üá≥üáø',n:'Nueva Zelanda',r:'Ocean√≠a',u:2620,l:'2.340 NZD/mes',c:'NZD',y:'2025'},
  // √ÅFRICA
  {f:'üáøüá¶',n:'Sud√°frica',r:'√Åfrica',u:350,l:'6.545 ZAR/mes',c:'ZAR',y:'2025'},
  {f:'üá≤üá¶',n:'Marruecos',r:'√Åfrica',u:320,l:'3.340 MAD/mes',c:'MAD',y:'2025'},
  {f:'üáπüá≥',n:'T√∫nez',r:'√Åfrica',u:250,l:'795 TND/mes',c:'TND',y:'2025'},
  {f:'üá≥üá¨',n:'Nigeria',r:'√Åfrica',u:230,l:'375.000 NGN/mes',c:'NGN',y:'2025'},
  {f:'üáøüáº',n:'Zimbabue',r:'√Åfrica',u:175,l:'175 USD/mes',c:'USD',y:'2025'},
  {f:'üáøüá≤',n:'Zambia',r:'√Åfrica',u:140,l:'3.100 ZMW/mes',c:'ZMW',y:'2025'},
  {f:'üá¨üá≠',n:'Ghana',r:'√Åfrica',u:130,l:'1.600 GHS/mes',c:'GHS',y:'2025'},
  {f:'üá∞üá™',n:'Kenia',r:'√Åfrica',u:190,l:'24.000 KES/mes',c:'KES',y:'2025'},
  {f:'üá™üá¨',n:'Egipto',r:'√Åfrica',u:120,l:'6.000 EGP/mes',c:'EGP',y:'2025'},
  {f:'üáπüáø',n:'Tanzania',r:'√Åfrica',u:100,l:'260.000 TZS/mes',c:'TZS',y:'2025'},
  {f:'üá∏üá≥',n:'Senegal',r:'√Åfrica',u:85,l:'52.680 XOF/mes',c:'XOF',y:'2025'},
  {f:'üá®üá≤',n:'Camer√∫n',r:'√Åfrica',u:70,l:'36.270 XAF/mes',c:'XAF',y:'2025'},
  {f:'üá∫üá¨',n:'Uganda',r:'√Åfrica',u:65,l:'245.000 UGX/mes',c:'UGX',y:'2025'},
  {f:'üá™üáπ',n:'Etiop√≠a',r:'√Åfrica',u:70,l:'3.800 ETB/mes',c:'ETB',y:'2025'},
];

// Remove dupes by name
const seen=new Set();
const C=COUNTRIES.filter(x=>{if(seen.has(x.n))return false;seen.add(x.n);return true;});
C.sort((a,b)=>b.u-a.u);

let filt=[...C];
let cmp=[];
let rates={};
let rateTs=null;

const CNAMES={
  USD:'D√≥lar USD',EUR:'Euro',GBP:'Libra Esterlina',JPY:'Yen Japon√©s',CHF:'Franco Suizo',
  CAD:'D√≥lar Canadiense',AUD:'D√≥lar Australiano',NZD:'D√≥lar NZ',CNY:'Yuan Chino',
  KRW:'Won Surcoreano',MXN:'Peso Mexicano',BRL:'Real Brasile√±o',ARS:'Peso Argentino',
  CLP:'Peso Chileno',COP:'Peso Colombiano',PEN:'Sol Peruano',UYU:'Peso Uruguayo',
  CRC:'Col√≥n Costarricense',PYG:'Guaran√≠',BOB:'Boliviano',HNL:'Lempira',
  DOP:'Peso Dominicano',GTQ:'Quetzal',NIO:'C√≥rdoba',VES:'Bol√≠var',
  SEK:'Corona Sueca',NOK:'Corona Noruega',DKK:'Corona Danesa',PLN:'Z≈Çoty',
  CZK:'Corona Checa',HUF:'Forinto',RON:'Leu Rumano',BGN:'Lev B√∫lgaro',
  TRY:'Lira Turca',UAH:'Grivna',SGD:'D√≥lar Singapur',HKD:'D√≥lar HK',
  THB:'Baht Tailand√©s',MYR:'Ringgit',IDR:'Rupia Indonesia',PHP:'Peso Filipino',
  INR:'Rupia India',PKR:'Rupia Paquistan√≠',BDT:'Taka',VND:'Dong',
  SAR:'Riyal Saudita',AED:'D√≠rham EAU',ILS:'S√©quel Israel√≠',ZAR:'Rand',
  EGP:'Libra Egipcia',MAD:'D√≠rham Marroqu√≠',TND:'Dinar Tunecino',NGN:'Naira',
  KES:'Chel√≠n Keniano',GHS:'Cedi'
};

const QPAIRS=[['USD','EUR'],['USD','MXN'],['USD','COP'],['USD','BRL'],
  ['EUR','GBP'],['USD','JPY'],['USD','ARS'],['USD','CLP'],
  ['EUR','CHF'],['USD','CAD'],['USD','PEN'],['GBP','EUR']];

const COLORS=['#e94560','#0f7dff','#00d4aa','#ffd700','#ff6b35','#a855f7'];
const GRADS=['linear-gradient(90deg,#ffd700,#ffaa00)','linear-gradient(90deg,#c0c0c0,#909090)',
  'linear-gradient(90deg,#cd7f32,#9a5c1a)','linear-gradient(90deg,#0f7dff,#00d4aa)',
  'linear-gradient(90deg,#a855f7,#0f7dff)','linear-gradient(90deg,#ff6b35,#e94560)',
  'linear-gradient(90deg,#00d4aa,#0f7dff)','linear-gradient(90deg,#ffd700,#ff6b35)',
  'linear-gradient(90deg,#e94560,#a855f7)','linear-gradient(90deg,#0f7dff,#e94560)',
  'linear-gradient(90deg,#a855f7,#ff6b35)','linear-gradient(90deg,#00d4aa,#ffd700)',
  'linear-gradient(90deg,#ff6b35,#0f7dff)','linear-gradient(90deg,#e94560,#ffd700)',
  'linear-gradient(90deg,#0f7dff,#a855f7)'];

// === TABLE ===
function renderTable(){
  const body=document.getElementById('tb');
  const mx=Math.max(...filt.map(c=>c.u));
  if(!filt.length){body.innerHTML=`<tr><td colspan="8" class="nr">Sin resultados</td></tr>`;return;}
  body.innerHTML=filt.map((c,i)=>{
    const rk=i+1;
    let b=`<div class="rb rn">${rk}</div>`;
    if(rk===1)b=`<div class="rb r1">ü•á</div>`;
    if(rk===2)b=`<div class="rb r2">ü•à</div>`;
    if(rk===3)b=`<div class="rb r3">ü•â</div>`;
    const pct=Math.round((c.u/mx)*100);
    const chk=cmp.some(x=>x.n===c.n)?'checked':'';
    return `<tr>
      <td>${b}</td>
      <td><span class="fe">${c.f}</span><span class="cn">${c.n}</span></td>
      <td><span class="cr">${c.r}</span></td>
      <td><div class="su">$${c.u.toLocaleString()}</div><div style="font-size:0.7rem;color:var(--accent3)">‚úì ${c.y}</div></td>
      <td><div class="sl">${c.l}</div></td>
      <td><span class="cr">${c.y}</span></td>
      <td style="min-width:110px;"><div class="mb"><div class="mbf" style="width:${pct}%"></div></div></td>
      <td><input type="checkbox" class="cc" data-n="${c.n}" ${chk} onchange="toggleCmp('${c.n}')"></td>
    </tr>`;
  }).join('');
}

function ft(){
  const q=document.getElementById('si').value.toLowerCase();
  const rg=document.getElementById('rf').value;
  filt=C.filter(c=>(c.n.toLowerCase().includes(q)||c.r.toLowerCase().includes(q))&&(!rg||c.r===rg));
  sortFilt();renderTable();
}

function sortFilt(){
  const s=document.getElementById('ss').value;
  if(s==='ud')filt.sort((a,b)=>b.u-a.u);
  else if(s==='ua')filt.sort((a,b)=>a.u-b.u);
  else if(s==='na')filt.sort((a,b)=>a.n.localeCompare(b.n));
  else filt.sort((a,b)=>b.n.localeCompare(a.n));
}

function st(){sortFilt();renderTable();}

// === COMPARE ===
function toggleCmp(n){
  const c=C.find(x=>x.n===n);if(!c)return;
  const i=cmp.findIndex(x=>x.n===n);
  if(i>=0)cmp.splice(i,1);
  else{if(cmp.length>=6){toast('‚ö†Ô∏è M√°x. 6 pa√≠ses');return;}cmp.push(c);}
  renderCmp();
}

function afs(){
  const s=document.getElementById('acs');
  const n=s.value;if(!n)return;
  toggleCmp(n);s.value='';
}

function clearCmp(){
  cmp=[];
  document.querySelectorAll('.cc').forEach(cb=>cb.checked=false);
  renderCmp();
}

function renderCmp(){
  const g=document.getElementById('cg');
  const cw=document.getElementById('ccw');
  if(!cmp.length){
    g.innerHTML=`<div class="cp"><span>üåç</span>Selecciona pa√≠ses en la tabla o usa el selector</div>`;
    cw.style.display='none';return;
  }
  const mx=Math.max(...cmp.map(c=>c.u));
  g.innerHTML=cmp.map((c,i)=>{
    const pct=cmp.length>1?((c.u/mx)*100).toFixed(0):100;
    return `<div class="cc-card">
      <button class="rb-btn" onclick="removeCmp('${c.n}')">‚úï</button>
      <div class="cflag">${c.f}</div>
      <h3>${c.n}</h3><div class="cregion">${c.r}</div>
      <div class="ms">$${c.u.toLocaleString()}</div>
      <div class="cl">USD/mes ¬∑ ${c.y}</div>
      <div style="margin:10px 0;">
        <div style="height:5px;background:rgba(255,255,255,0.06);border-radius:3px;overflow:hidden;">
          <div style="width:${pct}%;height:100%;background:${COLORS[i%COLORS.length]};border-radius:3px;"></div>
        </div>
        <div style="font-size:0.7rem;color:var(--text2);margin-top:3px;">${pct}% del m√°s alto</div>
      </div>
      <div class="dr"><span>üìÖ Anual</span><span>$${(c.u*12).toLocaleString()}</span></div>
      <div class="dr"><span>üìÜ Semanal ~</span><span>$${(c.u/4.33).toFixed(0)}</span></div>
      <div class="dr"><span>üìä Diario ~</span><span>$${(c.u/30).toFixed(1)}</span></div>
      <div class="dr"><span>üí± Local</span><span style="font-size:0.75rem">${c.l}</span></div>
    </div>`;
  }).join('');
  cw.style.display='block';
  const s=[...cmp].sort((a,b)=>b.u-a.u);
  document.getElementById('ccb').innerHTML=s.map((c,i)=>{
    const p=Math.round((c.u/s[0].u)*100);
    return `<div class="cbr"><div class="cbl">${c.f} ${c.n}</div>
      <div class="cbo"><div class="cbi" style="width:${p}%;background:${COLORS[i%COLORS.length]}">${c.f} $${c.u.toLocaleString()}</div></div>
      <div class="cv">$${c.u.toLocaleString()}</div></div>`;
  }).join('');
}

function removeCmp(n){
  cmp=cmp.filter(c=>c.n!==n);
  document.querySelectorAll(`.cc[data-n="${n}"]`).forEach(cb=>cb.checked=false);
  renderCmp();
}

// === CONVERTER ===
async function fetchRates(){
  try{
    const r=await fetch('https://api.exchangerate-api.com/v4/latest/USD');
    if(!r.ok)throw new Error();
    const d=await r.json();
    rates=d.rates;rateTs=new Date();
    upd();conv();renderQ();
  }catch(e){
    rates={USD:1,EUR:0.852,GBP:0.795,JPY:150.4,CHF:0.875,CAD:1.369,AUD:1.565,NZD:1.715,
      CNY:7.25,KRW:1350,MXN:17.2,BRL:4.98,ARS:1050,CLP:940,COP:4200,PEN:3.72,
      UYU:39.5,CRC:520,PYG:7600,BOB:6.91,HNL:24.7,DOP:58.5,GTQ:7.73,NIO:36.7,
      VES:36.5,SEK:10.4,NOK:10.6,DKK:6.88,PLN:3.96,CZK:22.7,HUF:357,RON:4.58,
      BGN:1.83,TRY:34.2,UAH:41.3,SGD:1.34,HKD:7.82,THB:35.8,MYR:4.71,IDR:15700,
      PHP:57.2,INR:83.8,PKR:278,BDT:110,VND:24800,SAR:3.75,AED:3.67,ILS:3.67,
      ZAR:18.7,EGP:50.2,MAD:9.93,TND:3.09,NGN:1650,KES:129,GHS:15.7,
      IQD:1310,JOD:0.709,AMD:395,GEL:2.72,AZN:1.70};
    rateTs=new Date();upd();conv();renderQ();
    document.getElementById('clu').textContent+=' (datos de respaldo)';
  }
}

function upd(){
  if(rateTs){
    const t=rateTs.toLocaleTimeString('es',{hour:'2-digit',minute:'2-digit'});
    document.getElementById('clu').textContent=`‚è±Ô∏è Actualizado: ${t}`;
  }
}

function initConvSel(){
  const crs=Object.keys(CNAMES);
  const fs=document.getElementById('cfrom'),ts=document.getElementById('cto');
  crs.forEach(code=>{
    const nm=CNAMES[code]||code;
    fs.innerHTML+=`<option value="${code}" ${code==='USD'?'selected':''}>${code} ‚Äì ${nm}</option>`;
    ts.innerHTML+=`<option value="${code}" ${code==='COP'?'selected':''}>${code} ‚Äì ${nm}</option>`;
  });
}

function conv(){
  if(!Object.keys(rates).length)return;
  const amt=parseFloat(document.getElementById('ca').value)||0;
  const fr=document.getElementById('cfrom').value;
  const to=document.getElementById('cto').value;
  if(!rates[fr]||!rates[to])return;
  const res=(amt/rates[fr])*rates[to];
  const rt=(1/rates[fr])*rates[to];
  document.getElementById('cra').textContent=`${res.toLocaleString('es',{maximumFractionDigits:4})} ${to}`;
  document.getElementById('cri').textContent=`1 ${fr} = ${rt.toLocaleString('es',{maximumFractionDigits:6})} ${to}`;
  document.getElementById('crb').textContent=`1 ${to} = ${(1/rt).toLocaleString('es',{maximumFractionDigits:6})} ${fr}`;
}

function swapC(){
  const f=document.getElementById('cfrom'),t=document.getElementById('cto');
  const tmp=f.value;f.value=t.value;t.value=tmp;conv();
}

function renderQ(){
  document.getElementById('qg').innerHTML=QPAIRS.map(([a,b])=>{
    if(!rates[a]||!rates[b])return'';
    const rt=((1/rates[a])*rates[b]);
    return `<div class="qi" onclick="setQ('${a}','${b}')">
      <div class="pair">${a} ‚Üí ${b}</div>
      <div class="rate">${rt.toLocaleString('es',{maximumFractionDigits:4})}</div>
    </div>`;
  }).join('');
}

function setQ(a,b){
  document.getElementById('cfrom').value=a;
  document.getElementById('cto').value=b;
  document.getElementById('ca').value=1;
  conv();showTab('conversor');
}

// === REGIONS ===
function renderRegions(){
  const ORD=['Europa','Am√©rica del Norte','Am√©rica Latina','Asia','Oriente Medio','Ocean√≠a','√Åfrica'];
  const ICO={Europa:'üá™üá∫','Am√©rica del Norte':'üåé','Am√©rica Latina':'üåé',Asia:'üåè','Oriente Medio':'üïå',Ocean√≠a:'üåä',√Åfrica:'üåç'};
  document.getElementById('rc').innerHTML=ORD.map(rg=>{
    const cs=C.filter(c=>c.r===rg).sort((a,b)=>b.u-a.u);
    if(!cs.length)return'';
    const avg=Math.round(cs.reduce((s,c)=>s+c.u,0)/cs.length);
    return `<div class="rs">
      <div class="rt"><span style="font-size:1.5rem">${ICO[rg]||'üåê'}</span>
        <h3>${rg}</h3><span class="cnt">${cs.length} pa√≠ses ¬∑ Prom. $${avg}</span></div>
      <div class="rc">${cs.map(c=>`<div class="sp" onclick="addFromReg('${c.n}')" id="pill-${c.n.replace(/[\s.]/g,'_')}">
          <span class="pf">${c.f}</span>
          <div class="pi"><div class="pn">${c.n}</div><div class="pa">$${c.u.toLocaleString()}/mes</div></div>
        </div>`).join('')}</div>
    </div>`;
  }).join('');
}

function addFromReg(n){
  const c=C.find(x=>x.n===n);if(!c)return;
  if(cmp.some(x=>x.n===n)){toast(`‚ùå ${n} ya est√°`);return;}
  if(cmp.length>=6){toast('‚ö†Ô∏è M√°x. 6 pa√≠ses');return;}
  cmp.push(c);
  const el=document.getElementById(`pill-${n.replace(/[\s.]/g,'_')}`);
  if(el)el.classList.add('sel');
  toast(`‚úÖ ${c.f} ${c.n} a√±adido`);
}

// === STATS ===
function renderStats(){
  const s=[...C].sort((a,b)=>b.u-a.u);
  const top=s[0],bot=s[s.length-1];
  const avg=Math.round(C.reduce((a,c)=>a+c.u,0)/C.length);
  const med=s[Math.floor(s.length/2)].u;
  const a1k=C.filter(c=>c.u>=1000).length;
  const b2=C.filter(c=>c.u<200).length;
  document.getElementById('sg').innerHTML=`
    <div class="sc"><div class="ic">üèÜ</div><div class="lb">Salario m√°s alto</div><div class="vl" style="color:var(--gold)">$${top.u.toLocaleString()}</div><div class="sb">${top.f} ${top.n}</div></div>
    <div class="sc"><div class="ic">üìâ</div><div class="lb">Salario m√°s bajo</div><div class="vl" style="color:var(--red)">$${bot.u}</div><div class="sb">${bot.f} ${bot.n}</div></div>
    <div class="sc"><div class="ic">üìä</div><div class="lb">Promedio mundial</div><div class="vl" style="color:var(--accent2)">$${avg.toLocaleString()}</div><div class="sb">USD/mes</div></div>
    <div class="sc"><div class="ic">üéØ</div><div class="lb">Mediana</div><div class="vl" style="color:var(--accent3)">$${med.toLocaleString()}</div><div class="sb">Punto medio</div></div>
    <div class="sc"><div class="ic">üíé</div><div class="lb">Sobre $1.000/mes</div><div class="vl" style="color:var(--accent3)">${a1k}</div><div class="sb">pa√≠ses</div></div>
    <div class="sc"><div class="ic">‚ö†Ô∏è</div><div class="lb">Bajo $200/mes</div><div class="vl" style="color:var(--red)">${b2}</div><div class="sb">pa√≠ses (cr√≠tico)</div></div>
    <div class="sc"><div class="ic">üåç</div><div class="lb">Total pa√≠ses</div><div class="vl">${C.length}</div><div class="sb">con datos</div></div>
    <div class="sc"><div class="ic">üìÖ</div><div class="lb">Datos</div><div class="vl" style="font-size:1rem">2025‚Äì26</div><div class="sb">Fuentes oficiales</div></div>`;
  const t15=s.slice(0,15);
  document.getElementById('t15').innerHTML=t15.map((c,i)=>{
    const p=Math.round((c.u/t15[0].u)*100);
    return `<div class="cbr"><div class="cbl">${c.f} ${c.n}</div>
      <div class="cbo"><div class="cbi" style="width:${p}%;background:${GRADS[i]}">${c.f} $${c.u.toLocaleString()}</div></div>
      <div class="cv">$${c.u.toLocaleString()}</div></div>`;
  }).join('');
  const b10=s.slice(-10).reverse();
  document.getElementById('b10').innerHTML=b10.map((c,i)=>{
    const p=Math.max(Math.round((c.u/b10[0].u)*100),4);
    return `<div class="cbr"><div class="cbl">${c.f} ${c.n}</div>
      <div class="cbo"><div class="cbi" style="width:${p}%;background:linear-gradient(90deg,var(--red),#800020)">${c.f} $${c.u}</div></div>
      <div class="cv" style="color:var(--red)">$${c.u}</div></div>`;
  }).join('');
}

// === HEADER ===
function initHeader(){
  const s=[...C].sort((a,b)=>b.u-a.u);
  document.getElementById('hc').textContent=C.length;
  document.getElementById('hh').textContent='$'+s[0].u.toLocaleString();
  document.getElementById('hl').textContent='$'+s[s.length-1].u;
  document.getElementById('ha').textContent='$'+Math.round(C.reduce((a,c)=>a+c.u,0)/C.length);
}

// === ADD SELECT ===
function initAddSel(){
  const s=document.getElementById('acs');
  [...C].sort((a,b)=>a.n.localeCompare(b.n)).forEach(c=>{
    s.innerHTML+=`<option value="${c.n}">${c.f} ${c.n} ¬∑ $${c.u}/mes</option>`;
  });
}

// === TABS ===
function showTab(t){
  const idx={tabla:0,comparar:1,conversor:2,regiones:3,stats:4};
  document.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
  document.querySelectorAll('.panel').forEach(x=>x.classList.remove('active'));
  document.querySelectorAll('.tab')[idx[t]].classList.add('active');
  document.getElementById('panel-'+t).classList.add('active');
}

// === TOAST ===
function toast(msg){
  const t=document.createElement('div');
  t.className='toast';t.textContent=msg;
  document.body.appendChild(t);
  setTimeout(()=>t.remove(),2600);
}

// === INIT ===
function init(){
  filt=[...C];
  initHeader();renderTable();initAddSel();
  initConvSel();renderCmp();renderRegions();renderStats();
  fetchRates();
  setInterval(fetchRates,600000);
}

window.addEventListener('DOMContentLoaded',init);
</script>
</body>
</html>


